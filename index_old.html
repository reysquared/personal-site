<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Always specify your page encoding! Ambiguous encoding can create security issues! -->
  <meta charset="utf-8">
  <title>CS5 script page</title>
  <!-- Of course, if you use this page as a template you should put your own name here. -->
  <meta name="author" content="Kevin McSwiggen">

  <link rel="stylesheet" type="text/css" href="style_old.css">
  <script src="tabs.js" defer></script>
  <script src="pyinterface.js" defer></script>
  <!-- 'defer' tells the browser that it is safe to load the script while the rest of
  the document is being parsed, and to only run it once the document is fully loaded.
  The scripts themselves contain window-load event binding that should prevent any
  issues in this vein, but it doesn't hurt in this case.  Feature demonstration!-->
</head>

<body>
<div id="wrapper">
<!-- This index page uses a number of HTML5 semantic elements such as the <hgroup> below.
For more info understanding them, see: http://diveinto.html5doctor.com/semantics.html 
I don't follow 100% of the recommendations in this document, primarily for reasons of
convenience, but it's good to know about them! For slightly more in-depth looks at the
different structural elements see: http://oli.jp/2009/html5-structure1/ and sequels. Also,
bear in mind that older versions of IE may not understand HTML5 semantic elements and as a
result break embarrassingly. The HTML5Doctor article describes a JavaScript workaround for
this, which I have not included for philosophical reasons but which is probably useful. -->
<header class="main-header">
  <h1>Kevin's CS5 Project Page</h1>
  <p class="subhead">I eat JavaScript for snax ¯\_(ツ)_/¯</p>
</header>
<div id="main-content">
  <nav class="tabs-menu">
    <ul class="tabs-list">
      <li class="tab-title"><a href="#week1">Week 1</a></li>
      <li class="tab-title"><a href="#week2">Week 2</a></li>
      <li class="tab-title"><a href="#week3">Week 3</a></li>
      <li class="tab-title"><a href="#week4">Week 4</a></li>
    </ul>
  </nav>

  <div id="tabs-content">

    <section class="tab-default">
      <header>
        <h2>Welcome Friend</h2>
        <p class="subhead">This is a webpage!</p>
      </header>
      <div class="customrule"></div>
      <p>You can put stuff here! Wow. So much power, right?</p>
      <p>This page is intended to be a (slightly beta) stepping stone for CS5 students to show off
      their programmatic creations on the web. The tabs above hypothetically correspond to different
      weeks of the class and their associated topics (and web-technology extra credit.) Currently, 
      the tabs actually correspond to filler text and demonstrations of a few random features of
      HTML(5) and JavaScript. Week 4 is a proof-of-concept JavaScript interface to run server-side
      Python scripts. You are encouraged (expected, in fact) to investigate the source code to learn
      how things work. Hope you like it!</p>
      <hr>
      <p>My design goals for this page were for it to be simple, uncluttered, and yet classy. I tend
         to feel that a lot of websites anymore put lots of effort (and many KB of scripts) into
         achieving things that could be done through more basic means. As such I have made this page
         without any external JavaScript libraries such as jQuery or Bootstrap. There <em>are</em>
         bits where jQuery would have made my life easier, but not enough to warrant including it IMO.
         In particular, I have tried to use CSS for some nice visual effects in place of JavaScript
         wherever possible.</p>
    </section>


    <section id="week1" class="tab-panel">
      <header>
        <h2>Week 1</h2>
        <p class="subhead">This is content from the first week!</p>
      </header>
      <div class="customrule"></div>
      <p>Test</p>
      <p>This is mostly intended as filler text to have enough material to test layout scrolling.
         Given enough content, this should show reasonably tastefully-positioned scroll bars. :P
         The tab layout isn't quite as resilient to horizontal resizing, but not many things are.</p>
      <hr>
      <p>In the interest of being informative though, here's some stuff this tab interface does:</p>
      <ul>
        <li>Hides and reveals the appropriate tab content in response to clicking the menu buttons</li>
        <li>Is designed to fail reasonably gracefully for users with JavaScript disabled, with the
            tab buttons jumping to the position of the content on the page instead of revealing it</li>
        <li>Includes a 'Main' button on each tab to return to the default content view. Functionality
            is provided by a JavaScript hook, so adding it to a tab is as easy as
            <code>&lt;a class="button go-back" href="#top">Main&lt;/a></code>
            <ul><li>Specifically: the <code>button</code> class makes it look like a button,
                    <code>go-back</code> is the JavaScript hook, and the HREF is there so if a user
                    has JavaScript disabled, the button will still at least jump to the page top</li>
            </ul></li>
        <li>Adds the correct fragment identifiers to the URL (i.e. <code>#week1</code> in this case)
            to facilitate linking directly to a given tab</li>
        <li>Uses JavaScript to determine the location of document fragments so that even fragment IDs
            which don't correspond directly to an interface tab will still cause the correct tab to
            be displayed when the page is loaded</li>
      </ul>
      <p>A potential project for the future: use class names and element attributes as described
         <a href="http://www.w3.org/TR/wai-aria-practices/#tabpanel">here</a> to make the interface
         WAI-ARIA compliant, making it more accessible to users with screen readers. Note that this
         is not a trivial undertaking, and I have neglected to do so as it adds a lot of confusing
         markup to what is intended as a learning document. But ARIA is a good thing to know about!</p>
      <hr>
      <p>If you check <a href="#week4">Week 4</a> you'll see that I ended up integrating the js-py
         interface as part of the tab's content, but some other methods were also considered:</p>
      <ul>
        <li>Open interface in page, back button either uses history API or a hardlink to index</li>
        <li>Open in pop-up window, back button closes pop-up</li>
        <li>Navigate <em>within</em> the tab in an iframe, back button restores tab content</li>
        <li>Interface appears in new or overlaid div, back button removes or hides it</li>
      </ul>
      <p>And if you were wondering, here's what the Main button looks like:</p>
      <a class="button go-back" href="#top">Main</a><br><br>
      <!-- NOTE: #top is a special fragment identifier than jumps to the top of the page.
      If you were trying to make a page with more than one tabbed menu interface on the
      same page, you would probably want to set an ID attribute for the default tab panel
      such as id="default1" and set the HREF for the back button to href="#default1". -->
    </section>


    <section id="week2" class="tab-panel">
      <h2>Week 2</h2>
      <div class="customrule"></div>
      <p>This is the second week</p>
      <p>As further demonstration, it is now possible not only to link to <a href="#week4">other tabs</a>
         but also <a href="#wk4scripts">fragments within tabs</a> and have the tab interface update its
         appearance accordingly. Success.</p>
      <p>If you want to add your own tabs, it's pretty easy. First add a tab panel with the content you
         want. Tab panels are just <code>section</code> elements in the <code>tab-content</code> div
         with the ID attribute set to whatever you want (e.g. <code>id="myTab"</code>) and the class set
         as <code>class="tab-panel"</code>. Second, add a button to the <code>tabs-menu</code> nav element
         with an HREF attribute corresponding to your tab panel's ID, like so:</p>
      <pre>&lt;li class="tab-title">&lt;a href="#myTab">My New Tab!&lt;/a>&lt;/li></pre>
      <p>Finally, if you feel like being nice to your users, add a "Main" button as described in Week 1.</p>
      <hr>
      <p>TANGENT!</p>
      <p>Here's an example of the power of CSS: the heart below is created using nothing but an empty div
         and CSS styles. (Cheers to <a href=https://css-tricks.com/controlling-css-animations-transitions-javascript/>CSS-Tricks</a>.)
         Try hovering over it!</p>
      <div class="heart animated css"></div>
      <a class="button go-back" href="#top">Main</a><br><br>
    </section>


    <section id="week3" class="tab-panel">
      <h2>Week 3</h2>
      <div class="customrule"></div>
      <p>You know the drill. More tabs, more content, MORE MORE MORE. And more filler text. The
         useful item on your right is a <code>figure</code> element! I've floated it right so
         that other text on the page will wrap around it. Observe!</p>
      <figure style="float:right;">
      <img alt="Harvey Mudd logo" src="https://www.hmc.edu/communications/wp-content/uploads/sites/19/2013/11/HMC-BGW-RGB-150dpi.png">
      <img alt="Harvey Mudd seal" src="https://upload.wikimedia.org/wikipedia/en/6/65/Hmc_seal.svg">
      <figcaption>Inappropriate use</figcaption>
      </figure>
      <p>I need more filler text on this web page to demonstrate text wrapping around floated
         elements, so I'm going to add some. This is quite egregious.  Bleep bloop blop bap bump bep.
         Lorem ipsum dolor sit amet adipiscing blehkjshdkjh. Etc.</p>
      <p>Something HMC students may find relevant... there is such a thing called MathML which
         is essentially XHTML's LaTeX.  Check it out:</p>
      <math display="block">
      <mrow>
        <munder>
          <mo>∑</mo>
          <mrow>
            <mi>p</mi><mtext>&nbsp;prime</mtext>
          </mrow>
        </munder>
        <mi>f</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo>=</mo>
        <msub>
          <mo stretchy="false">∫</mo>
          <mrow>
            <mi>t</mi><mo>&gt;</mo><mn>1</mn>
          </mrow>
        </msub>
        <mi>f</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo>
        <mspace width="thinmathspace"></mspace><mi>d</mi><mi>π</mi>
      <mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo>
      </mrow>
      </math>
      <p>MathML has both content encoding and presentation encoding--the above is presentation
         encoding, as I understand it renders correctly in more browsers. TBH I would probably
         write equations in TeX and use a tool to translate it into MathML (but those DO exist!)
         If you're wondering why, look at the source for the above equations and you'll get it...</p>
      <a class="button go-back" href="#top">Main</a><br><br>
    </section>


    <section id="week4" class="tab-panel">
      <h2>Week 4</h2>
      <div class="customrule"></div>
      <p>Whatever man.</p>
      <hr>
      <p>This is an AJAX interface for server-side python scripts. This is the "generic" interface,
         meaning you can use the drop-down to choose a script and pass it arbitrary command-line
         arguments if relevant. This generic interface is somewhat limited in its capabilities, so
         I've also made some stand-alone versions which are tailored to work with a specific script.
         The subpages include brief technical descriptions of the differences between the interfaces
         and a list of associated files. Check them out:</p>
      <hr>
      <ul>
        <li>Caesar Cypher: (<a href="interface1.html">Basic</a>) (<a href="interface1_advanced.html">Advanced</a>)</li>
        <li>Mandelbrot Generator: (<a href="interface2.html">Basic</a>) (<a href="interface2_advanced.html">Advanced</a>)</li>
      </ul>
      <hr>
      <p>Because of the way it invokes them, one advantage of the generic interface is that it should
         play nicely with both Python 2.7 and 3.x scripts with no additional fiddling. Another is that
         the JavaScript hook for the generic interface is by class name instead of ID, which means as
         long as they have the correct elements nested at the correct levels you can have as many
         instances of the generic interface on a page as you want. This could probably be made even
         more flexible by making the interface wrapper div into a form element and modifying the JS,
         so the interface could send whatever form fields you felt like. However, this would be a bit
         pointless without modifying the backend for the generic interface, because it only has one
         relevant field which is passed as given to the script.</p>
      <p>It could probably be spruced up in other ways as well, but I'm not precisely sure which ones.</p>
      <p>One small TODO: the generic interface currently doesn't actually work with the Caesar Solver,
         because of how it passes arguments. That could probably be fixed.</p>
      <div class="customrule"></div>
      <h3>Py-JS Interface</h3>
      <div class="script-interface" id="wk4scripts">
        <select class="script-select" style="float:right;">
          <option value="test_script">Test Script (Python 2.7)</option>
          <option value="test_script3">Test Script (Python 3)</option>
          <option value="caesar">Caesar Cipher Solver</option>
        </select>
        <br>
        <br>
        <textarea placeholder="Type your input for the Python script here." class="input scriptbox"></textarea>
        <br>
        <br>
        <a class="button submit">Run</a>
        <br>
        <br>
        <textarea placeholder="The response from the Python script will appear here." class="output scriptbox"></textarea>
      </div><br><br>
      <a class="button go-back" href="#top">Main</a><br><br>
    </section>

  </div>
</div>
<footer id="sticky-footer">
I dunno maybe we want a footer.
<p>
    <a href="http://jigsaw.w3.org/css-validator/check/referer">
        <img style="border:0;width:88px;height:31px"
            src="http://jigsaw.w3.org/css-validator/images/vcss"
            alt="Valid CSS!" />
    </a>
</p>
</footer>
</div>
<script>
/** Adaptive page title **/
// Gets the student's username from the page URL and sticks it in the title
// Don't need to worry about deferring this until pageload, since the title
// doesn't rely on any of the document body elements. Even so, I put it at
// the bottom of the page HTML for the time being because it doesn't fit in
// tabs.js or pyinterface.js and because it's small.
var loc = window.location.pathname;
var dir = loc.substring(2,loc.lastIndexOf('/'));
document.title = dir + "'s CS5 script page!";
// Mind that this doesn't play well with SEO because search-engine crawlers
// don't run scripts. Could fix that by auto-generating pages like this for
// students, or by just expecting students to rename the page themselves...
// Depending, of course, on how much of this content we expect students to
// edit themselves and how much should just plug in to student content.
// Really I just added it because it was fun.
</script>
</body>
</html>
